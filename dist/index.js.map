{"version":3,"sources":["../src/index.js"],"names":["defaultConfig","logger","name","process","env","LOGGER_NAME","level","LOGGER_LEVEL","levels","LEVEL_INFO","init","_config","config","timestamp","mixin","Date","now","nestedKey"],"mappings":";;;;;;;;AAEA;;AAEA;;;;;;;;;;AAEA,IAAMA,aAAqB,GAAG;AAC5BC,EAAAA,MAAM,EAAE;AACNC,IAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,EAD3B;AAEN;AACAC,IAAAA,KAAK,EAAEH,OAAO,CAACC,GAAR,CAAYG,YAAZ,IAA4BC,mBAAOC;AAHpC;AADoB,CAA9B;;AAQO,SAASC,IAAT,CAAcC,OAAd,EAAgF;AACrF,MAAMC,MAAc,mCACfZ,aADe,GAEfW,OAFe,CAApB;;AAKA,MAAMV,MAAc,GAAG,sBAAK;AAC1BC,IAAAA,IAAI,EAAEU,MAAM,CAACX,MAAP,CAAcC,IADM;AAE1BI,IAAAA,KAAK,EAAEM,MAAM,CAACX,MAAP,CAAcK,KAFK;AAG1BO,IAAAA,SAAS,EAAE,KAHe;AAI1BC,IAAAA,KAAK,EAAE;AAAA,aAAO;AAAED,QAAAA,SAAS,EAAEE,IAAI,CAACC,GAAL;AAAb,OAAP;AAAA,KAJmB;AAK1BC,IAAAA,SAAS,EAAE;AALe,GAAL,CAAvB;AAOA,SAAOhB,MAAP;AACD;;AAED,IAAMA,MAAgB,GAAGS,IAAI,CAACV,aAAD,CAA7B;eAEeC,M","sourcesContent":["// @flow\n\nimport pino from 'pino';\n\nimport levels from './levels';\n\nconst defaultConfig: Object = {\n  logger: {\n    name: process.env.LOGGER_NAME || '',\n    // eslint-disable-next-line import/no-named-as-default-member\n    level: process.env.LOGGER_LEVEL || levels.LEVEL_INFO,\n  },\n};\n\nexport function init(_config: { name: string, level: $Values<typeof levels> }): Object {\n  const config: Object = {\n    ...defaultConfig,\n    ..._config,\n  };\n\n  const logger: Object = pino({\n    name: config.logger.name,\n    level: config.logger.level,\n    timestamp: false,\n    mixin: () => ({ timestamp: Date.now() }),\n    nestedKey: 'details',\n  });\n  return logger;\n}\n\nconst logger: Function = init(defaultConfig);\n\nexport default logger;\n"],"file":"index.js"}